{% extends "base.html" %}
{% block title %}Edit Book{% endblock %}
{% block content %}
<h1>Edit Book</h1>
<form method="post">
  <div class="mb-3">
    <label for="title" class="form-label">Title</label>
    <input type="text" class="form-control" id="title" name="title" value="{{ book.title }}" required>
  </div>
  <div class="mb-3">
    <label for="author" class="form-label">Author</label>
    <input type="text" class="form-control" id="author" name="author" value="{{ book.author }}" required>
  </div>
  <div class="mb-3">
    <label for="isbn" class="form-label">ISBN</label>
    <input type="text" class="form-control" id="isbn" name="isbn" value="{{ book.isbn }}" required>
  </div>
  <div class="mb-3">
    <label for="cover_url" class="form-label">Cover Image URL</label>
    <input type="url" class="form-control" id="cover_url" name="cover_url" value="{{ book.cover_url or '' }}">
    {% if book.cover_url %}
      <div class="mt-2">
        <img src="{{ book.cover_url }}" alt="Current Cover" style="max-width:120px;">
      </div>
    {% endif %}
    <div class="form-text">Paste a direct image URL to override the cover.</div>
  </div>
  <button type="submit" class="btn btn-primary">Save Changes</button>
  <a href="{{ url_for('main.view_book', uid=book.uid) }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}